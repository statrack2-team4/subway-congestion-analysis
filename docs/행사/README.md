<<<<<<< HEAD
# 서울 지하철 2·4·5호선 이벤트 발생과 혼잡도 연관성 분석

## 📊 프로젝트 개요

이 프로젝트는 서울 지하철 2·4·5호선에서 발생하는 대규모 이벤트(스포츠, 행사, 시위)가 지하철 혼잡도에 미치는 영향을 데이터 분석을 통해 검증한 연구입니다.

### 🎯 분석 목적

**"이벤트 발생이 지하철 혼잡도에 유의미한 영향을 미치는가?"** 가설을 검증하고, 효율적인 운행 및 인력 배치 전략 수립의 근거를 마련합니다.

---

## 🚀 빠른 시작

### 1. 필수 라이브러리 설치

```bash
pip install pandas matplotlib seaborn plotly
```

### 2. Jupyter Notebook 실행

```bash
jupyter notebook 서울_지하철_이벤트_혼잡도_분석.ipynb
```

---

## 📋 분석 내용

### 1. 분석 개요
- **배경**: 대규모 이벤트 발생 시 지하철 혼잡도 급증 대응 필요
- **데이터 기간**: 2023년 1월 ~ 2025년 12월
- **분석 건수**: 총 737건의 유효 사례

### 2. 데이터 출처
- **지하철 데이터**: 서울시 공공데이터 포털
- **이벤트 데이터**:
  - 행사: KOPIS 공연예술통합전산망 API
  - 야구: KBO 공식 홈페이지 크롤링
  - 시위: 빅카인즈, 서울교통공사 API

### 3. 주요 분석 결과

#### ✅ 가설 검증 결과
- **이벤트 발생 시 혼잡도 증가**: 85.3% (629건/737건)
- **혼잡도 감소**: 14.7% (108건/737건)

#### 📈 호선별 민감도
| 순위 | 호선 | 평균 상승률 | 이벤트 수 |
|------|------|------------|-----------|
| 1 | 5호선 | 68.44% | 403건 |
| 2 | 2호선 | 56.84% | 258건 |
| 3 | 4호선 | 0.10% | 76건 |

#### 🎪 카테고리별 영향력
| 카테고리 | 평균 상승률 | 이벤트 수 |
|----------|------------|-----------|
| 야구 | 73.70% | 141건 |
| 행사 | 65.74% | 484건 |
| 시위 | 0.38% | 112건 |

#### 🏆 상승률 TOP 5
1. **2023-06-17** 종합운동장역(2호선) - 행사: **312.5%** ↑
2. **2023-06-18** 종합운동장역(2호선) - 행사: **286.4%** ↑
3. **2024-06-22** 올림픽공원역(5호선) - 행사: **275.2%** ↑
4. **2024-11-02** 올림픽공원역(5호선) - 행사: **255.2%** ↑
5. **2023-06-24** 종합운동장역(2호선) - 행사: **252.3%** ↑

---

## 📊 시각화

노트북에는 다음과 같은 인터랙티브 시각화가 포함되어 있습니다:

1. **호선별 평소 대비 이벤트 발생 시 혼잡도 비교** (막대 그래프)
2. **이벤트 카테고리별 승하차 상승률 분포** (박스플롯)
3. **주요 역별 월간 이벤트 혼잡도 추이** (히트맵)

모든 그래프는 **Plotly**로 구현되어 있어, 마우스 호버로 상세 정보를 확인할 수 있습니다.

---

## 💡 주요 인사이트

### 4호선의 역설
- 4호선은 **절대 인원은 가장 많으나** 상승률은 0.1%로 최저
- 평상시 유동인구(Baseline)가 워낙 거대한 **'상시 포화 노선'**
- **이벤트 대응보다 상시 안전 관리가 더 중요**

### 야구 vs 행사
- **야구**: 시즌 중 지속 발생하는 '주기적 반복 혼잡'의 주범
- **행사**: 폭발적 인파를 유발하는 '이벤트성 유동인구 폭증'의 주범
- **시사점**: 개별 이벤트의 단기 위험도는 대형 행사가 훨씬 높음

---

## 🎯 정책 제언

### 1️⃣ 교통 수단 증편
- 종합운동장, 올림픽공원역 등 대형 행사장 인근 임시 열차 증차
- 시내버스 배차 간격 단축

### 2️⃣ 셔틀버스 의무화
- 대형 콘서트/경기 시 주최측과 협력
- 주요 거점(강남, 잠실 등) 연결 전용 셔틀 운영

### 3️⃣ 예측 시스템 구축
- 이벤트 일정과 연계한 실시간 혼잡도 예측 시스템 구축

---

## 🔧 기술 스택

- **Python 3.8+**
- **pandas**: 데이터 분석 및 전처리
- **matplotlib**: 기본 시각화
- **seaborn**: 통계적 시각화
- **plotly**: 인터랙티브 시각화
- **Jupyter Notebook**: 분석 환경

---

## 📁 프로젝트 구조

```
project/
├── 서울_지하철_이벤트_혼잡도_분석.ipynb    # 메인 분석 노트북
├── README.md                               # 프로젝트 설명서
├── data/
│   └── 행사_시위_승하차인원_상승분석.csv  # 분석 데이터
└── requirements.txt                        # 필수 라이브러리 목록
```

---

## 📌 데이터 전처리

### 역명 정규화
```
"종합운동장역" → "종합운동장"
"서울역(지상)" → "서울"
```

### 다중 이벤트 통합
- 동일 날짜, 동일 역에서 여러 이벤트 발생 시 통합
- 예: 야구 + 콘서트 → "야구, 행사"
- 통합 전 758건 → 통합 후 737건

### 베이스라인 계산
```sql
평균_승하차합계 = MEAN(승차 + 하차) 
WHERE 이벤트없음 
GROUP BY [호선, 역명, 요일]
```

### 상승률 공식
```
상승률(%) = (이벤트 당일 승하차 합계 - Baseline) / Baseline × 100
```

---

## ⚙️ 환경 설정

### Windows
```python
plt.rcParams['font.family'] = 'Malgun Gothic'
```

### macOS
```python
plt.rcParams['font.family'] = 'AppleGothic'
```

### Linux
```python
plt.rcParams['font.family'] = 'NanumGothic'
```

---

## 📖 사용 방법

### 1. 데이터 로드
노트북의 데이터 경로를 실제 데이터 파일 위치로 수정하세요:

```python
file_path = r'C:\your\path\to\행사_시위_승하차인원_상승분석.csv'
```

### 2. 라이브러리 설치
첫 번째 셀에서 필요한 라이브러리를 설치합니다:

```python
!pip install seaborn plotly
```

### 3. 순차 실행
각 셀을 순서대로 실행하면 다음 결과를 얻을 수 있습니다:
- 데이터 요약 표
- 인터랙티브 시각화
- 통계 분석 결과



---

## 📜 라이선스

본 프로젝트의 데이터는 공공데이터 포털의 이용 약관을 따릅니다.

---

## 🙏 참고 자료

### 데이터 출처
- [서울시 공공데이터 포털](https://data.seoul.go.kr/)
- [KOPIS 공연예술통합전산망](https://kopis.or.kr/)
- [KBO 공식 홈페이지](https://www.koreabaseball.com/)
- 빅카인즈(Big Kinds)

---

**최종 업데이트**: 2025년 1월

**분석 기간**: 2023년 1월 ~ 2025년 12월

**분석 건수**: 737건
=======
# 🚇 서울 지하철 2·4·5호선 이벤트 발생과 혼잡도 연관성 분석

본 프로젝트는 대규모 이벤트(스포츠, 행사, 시위) 발생 시 서울 지하철 주요 노선(2·4·5호선)의 승하차 패턴 변화를 데이터로 분석하여, 이벤트가 혼잡도에 미치는 영향력을 검증하고 정책적 대응 방안을 제시하는 것을 목적으로 합니다.

---

## 1. 프로젝트 개요
* **배경**: 대규모 인파가 몰리는 행사 시 지하철 혼잡도 급증으로 인한 안전사고 우려 및 선제적 대응 체계 필요.
* **목적**: "이벤트 발생이 지하철 혼잡도에 유의미한 영향을 미치는가?"라는 가설을 데이터로 정량적 검증.
* **핵심 가치**: 혼잡 유발 요인을 사전에 파악하여 효율적인 열차 운행 및 안전 인력 배치 전략 수립의 근거 마련.

## 2. 데이터 정의 및 수집
### 2.1 데이터 출처
* **지하철 이용객**: 서울시 공공데이터 포털 (2·4·5호선 역별 일일 승하차 인원 합계).
* **이벤트 정보**:
    * **행사**: KOPIS 공연예술통합전산망 API.
    * **야구**: KBO 공식 홈페이지 크롤링.
    * **시위**: 빅카인즈(Big Kinds) 보도 일정 크롤링.

### 2.2 분석 범위 및 정제 기준
* **분석 기간**: 2023년 1월 ~ 2025년 12월.
* **대상 시설**: 분석 정밀도를 위해 **2,000석 이상**의 중·대형 시설(잠실종합운동장, 올림픽공원 등) 선별.
* **유효 사례**: 다중 이벤트 통합 적용 후 총 **737건**의 분석 표본 추출.

## 3. 분석 방법론
### 3.1 데이터 전처리
* **역명 정규화**: 데이터셋 간 상이한 역명을 "종합운동장", "올림픽공원" 등으로 통일.
* **다중 이벤트 통합**: 동일 날짜/장소에서 여러 이벤트 발생 시 카테고리를 병합(예: "야구, 행사")하여 중복 계산 방지.

### 3.2 혼잡도 상승률 산출
이벤트 미발생일의 동일 요일 평균 인원을 **Baseline**으로 설정하여 계산했습니다.

$$상승률(\%) = \frac{\text{이벤트 당일 승하차 합계} - \text{Baseline}}{\text{Baseline}} \times 100$$

---

## 4. 주요 분석 결과

### 4.1 가설 검증: "이벤트가 혼잡도를 높이는가?"
분석 결과, 이벤트 발생 시 **85.3%**의 확률로 혼잡도가 증가함을 확인하여 가설의 타당성을 입증했습니다.

| 구분 | 건수 | 비율 |
| :--- | :--- | :--- |
| **증가 (가설 지지)** | 629건 | **85.3%** |
| **감소** | 108건 | 14.7% |

### 4.2 호선별 및 카테고리별 민감도
* **5호선 (68.44%)**: 올림픽공원 대형 콘서트 영향으로 가장 높은 민감도를 보임.
* **2호선 (56.84%)**: 잠실야구장 및 종합운동장 행사의 직접적 영향권.
* **4호선 (0.10%)**: 평상시 유동인구가 워낙 거대한 **'고부하 노선'**으로, 이벤트로 인한 상대적 상승률은 낮음 (상시 관리 중요).



### 4.3 상승률 TOP 5 사례
1. **2023-06-17 (2호선 종합운동장)**: 행사 (상승률 **312.5%**)
2. **2023-06-18 (2호선 종합운동장)**: 행사 (상승률 **286.4%**)
3. **2024-06-22 (5호선 올림픽공원)**: 행사 (상승률 **275.2%**)

---

## 5. 기술 스택 (Tech Stack)
- **Language**: Python 3.9+
- **Library**: Pandas, NumPy, Matplotlib, Seaborn
- **Tool**: Jupyter Notebook, Git

## 6. 결론 및 제언
* **대응 전략**: 상승률이 압도적인 '비일상적 초거대 혼잡(대형 행사)' 시기에 운영 자원 집중 투입.
* **운영 제언**: 행사장 인근 역 임시 열차 증편, 주최측 협력 셔틀버스 운영 의무화.
* **시스템화**: 실시간 승하차 데이터와 이벤트 일정을 연계한 혼잡도 모니터링 시스템 구축 필요.
>>>>>>> 75fe7fa ([추가]이벤트_전체_분석_가이드.ipynd)
